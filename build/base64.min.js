/*
 * hi-base64 v0.2.0
 * https://github.com/emn178/hi-base64
 *
 * Copyright 2014-2015, emn178@gmail.com
 *
 * @license under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
!function(r){"use strict";var t="object"==typeof process&&process.versions&&process.versions.node;t&&(r=global);var e,n,o=!r.HI_BASE64_TEST&&"object"==typeof module&&module.exports,a="function"==typeof define&&define.amd,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),h={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63,"-":62,_:63},f=function(r){for(var t=[],e=0;e<r.length;e++){var n=r.charCodeAt(e);128>n?t[t.length]=n:2048>n?(t[t.length]=192|n>>6,t[t.length]=128|63&n):55296>n||n>=57344?(t[t.length]=224|n>>12,t[t.length]=128|n>>6&63,t[t.length]=128|63&n):(n=65536+((1023&n)<<10|1023&r.charCodeAt(++e)),t[t.length]=240|n>>18,t[t.length]=128|n>>12&63,t[t.length]=128|n>>6&63,t[t.length]=128|63&n)}return t},c=function(r){var t,e,n,o,a=[],i=0,f=r.length;"="==r.charAt(f-2)?f-=2:"="==r.charAt(f-1)&&(f-=1);for(var c=0,g=f>>2<<2;g>c;)t=h[r.charAt(c++)],e=h[r.charAt(c++)],n=h[r.charAt(c++)],o=h[r.charAt(c++)],a[i++]=255&(t<<2|e>>>4),a[i++]=255&(e<<4|n>>>2),a[i++]=255&(n<<6|o);var C=f-g;return 2==C?(t=h[r.charAt(c++)],e=h[r.charAt(c++)],a[i++]=255&(t<<2|e>>>4)):3==C&&(t=h[r.charAt(c++)],e=h[r.charAt(c++)],n=h[r.charAt(c++)],a[i++]=255&(t<<2|e>>>4),a[i++]=255&(e<<4|n>>>2)),a},g=function(r){for(var t,e,n,o="",a=r.length,h=0,f=3*parseInt(a/3);f>h;)t=r[h++],e=r[h++],n=r[h++],o+=i[t>>>2]+i[63&(t<<4|e>>>4)]+i[63&(e<<2|n>>>6)]+i[63&n];var c=a-f;return 1==c?(t=r[h],o+=i[t>>>2]+i[t<<4&63]+"=="):2==c&&(t=r[h++],e=r[h],o+=i[t>>>2]+i[63&(t<<4|e>>>4)]+i[e<<2&63]+"="),o},C=r.btoa,d=r.atob;if(!r.HI_BASE64_TEST&&t){var s=require("buffer").Buffer;C=function(r){return new s(r,"ascii").toString("base64")},e=function(r){return new s(r).toString("base64")},g=e,d=function(r){return new s(r,"base64").toString("ascii")},n=function(r){return new s(r,"base64").toString()}}else C?(e=function(r){for(var t="",e=0;e<r.length;e++){var n=r.charCodeAt(e);128>n?t+=String.fromCharCode(n):2048>n?t+=String.fromCharCode(192|n>>6)+String.fromCharCode(128|63&n):55296>n||n>=57344?t+=String.fromCharCode(224|n>>12)+String.fromCharCode(128|n>>6&63)+String.fromCharCode(128|63&n):(n=65536+((1023&n)<<10|1023&r.charCodeAt(++e)),t+=String.fromCharCode(240|n>>18)+String.fromCharCode(128|n>>12&63)+String.fromCharCode(128|n>>6&63)+String.fromCharCode(128|63&n))}return C(t)},n=function(r){var t=d(r.trim("=").replace(/-/g,"+").replace(/_/g,"/"));if(!/[^\x00-\x7F]/.test(t))return t;for(var e,n,o="",a=0,i=t.length,h=0;i>a;)if(e=t.charCodeAt(a++),127>=e)o+=String.fromCharCode(e);else{if(e>191&&223>=e)n=31&e,h=1;else if(239>=e)n=15&e,h=2;else{if(!(247>=e))throw"not a UTF-8 string";n=7&e,h=3}for(var f=0;h>f;++f){if(e=t.charCodeAt(a++),128>e||e>191)throw"not a UTF-8 string";n<<=6,n+=63&e}if(n>=55296&&57343>=n)throw"not a UTF-8 string";if(n>1114111)throw"not a UTF-8 string";65535>=n?o+=String.fromCharCode(n):(n-=65536,o+=String.fromCharCode((n>>10)+55296),o+=String.fromCharCode((1023&n)+56320))}return o}):(C=function(r){for(var t,e,n,o="",a=r.length,h=0,f=3*parseInt(a/3);f>h;)t=r.charCodeAt(h++),e=r.charCodeAt(h++),n=r.charCodeAt(h++),o+=i[t>>>2]+i[63&(t<<4|e>>>4)]+i[63&(e<<2|n>>>6)]+i[63&n];var c=a-f;return 1==c?(t=r.charCodeAt(h),o+=i[t>>>2]+i[t<<4&63]+"=="):2==c&&(t=r.charCodeAt(h++),e=r.charCodeAt(h),o+=i[t>>>2]+i[63&(t<<4|e>>>4)]+i[e<<2&63]+"="),o},e=function(r){for(var t,e,n,o="",a=f(r),h=a.length,c=0,g=3*parseInt(h/3);g>c;)t=a[c++],e=a[c++],n=a[c++],o+=i[t>>>2]+i[63&(t<<4|e>>>4)]+i[63&(e<<2|n>>>6)]+i[63&n];var C=h-g;return 1==C?(t=a[c],o+=i[t>>>2]+i[t<<4&63]+"=="):2==C&&(t=a[c++],e=a[c],o+=i[t>>>2]+i[63&(t<<4|e>>>4)]+i[e<<2&63]+"="),o},d=function(r){var t,e,n,o,a="",i=r.length;"="==r.charAt(i-2)?i-=2:"="==r.charAt(i-1)&&(i-=1);for(var f=0,c=i>>2<<2;c>f;)t=h[r.charAt(f++)],e=h[r.charAt(f++)],n=h[r.charAt(f++)],o=h[r.charAt(f++)],a+=String.fromCharCode(255&(t<<2|e>>>4))+String.fromCharCode(255&(e<<4|n>>>2))+String.fromCharCode(255&(n<<6|o));var g=i-c;return 2==g?(t=h[r.charAt(f++)],e=h[r.charAt(f++)],a+=String.fromCharCode(255&(t<<2|e>>>4))):3==g&&(t=h[r.charAt(f++)],e=h[r.charAt(f++)],n=h[r.charAt(f++)],a+=String.fromCharCode(255&(t<<2|e>>>4))+String.fromCharCode(255&(e<<4|n>>>2))),a},n=function(r){for(var t,e,n="",o=c(r),a=o.length,i=0,h=0;a>i;)if(t=o[i++],127>=t)n+=String.fromCharCode(t);else{if(t>191&&223>=t)e=31&t,h=1;else if(239>=t)e=15&t,h=2;else{if(!(247>=t))throw"not a UTF-8 string";e=7&t,h=3}for(var f=0;h>f;++f){if(t=o[i++],128>t||t>191)throw"not a UTF-8 string";e<<=6,e+=63&t}if(e>=55296&&57343>=e)throw"not a UTF-8 string";if(e>1114111)throw"not a UTF-8 string";65535>=e?n+=String.fromCharCode(e):(e-=65536,n+=String.fromCharCode((e>>10)+55296),n+=String.fromCharCode((1023&e)+56320))}return n});var u=function(t,n){var o="string"!=typeof t;return o&&t.constructor==r.ArrayBuffer&&(t=new Uint8Array(t)),o?g(t):!n&&/[^\x00-\x7F]/.test(t)?e(t):C(t)},A=function(r,t){return t?d(r):n(r)},l={encode:u,decode:A,atob:d,btoa:C};A.bytes=c,A.string=A,o?module.exports=l:(r.base64=l,a&&define(function(){return l}))}(this);